洋葱模型注意是个圆的

所以最外层是整一圈  中心理论上来说也是一个圆的又不是切片

所以这就是为啥为从最外层进去 最外层出来


而且是作用于web的  req--->res

中间件是函数

是否是异步的函数

不是异步的函数试试

错误前置



认清楚哪个是中间件


洋葱模型还是有好处的，对比express的中间件顺序执行


所以以后分析哪些中间件就按洋葱模型执行顺序分析就行

koa-router是中间件

Koa为了保持自身的简洁，并没有捆绑中间件。但是在实际的开发中，我们需要和形形色色的中间件打交道，本文将要分析的是经常用到的路由中间件 -- koa-router。