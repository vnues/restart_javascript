## 事件循环跟异步

> 有没有想过 我们平时所用的异步 js 是怎么去实现它的 并且 js 是单线程的状态下怎么去实现异步 并行和并发又有什么联系 Promise 为什么是异步的真正发起的概念

使用像 JavaScript 这样的语言编程时，很重要但常常被误解的一点是，如何表达和控制持
续一段时间的程序行为。

事实上，程序中现在运行的部分和将来运行的部分之间的关系就是异步编程的核心

setTimeout  
一定要清楚，setTimeout(..) 并没有把你的回调函数挂在事件循环队列中。它所做的是设
定一个定时器。当定时器到时后，环境会把你的回调函数放在事件循环中，这样，在未来
某个时刻的 tick 会摘下并执行这个回调

异步 --- 时间和未来的时间间隙

循环的每一轮称为 tick

10 分钟了解 JS 堆、栈以及事件循环的概念

对象放在 heap（堆）里，常见的基础类型和函数放在 stack（栈）里，函数执行的时候在栈里执

函数调用栈 -->函数是放在栈里的

什么是事件循环队列 什么是任务队列

事件循环队列是 js 引擎告诉宿主环境我这段是异步代码 -->宿主环境就将它完成以后将回调函数放入任务队列<--宿主环境会监听它是否完成 --完成 -->放进去执行栈执行 -- 说法有错误了

js 引擎告诉宿主环境这是一个异步操作代码 --- > 放到不知道的地方<-----监听是否完成 完成了放入任务队列 --> 取出来放入执行栈

主线程从"任务队列"中读取执行事件，这个过程是循环不断的，这个机制被称为事件循环 不不不哈哈哈哈 上面代码理解有偏差

当遇到一个异步事件后，并不会一直等待异步事件返回结果，而是会将这个事件挂在与执行栈不同的队列中，我们称之为任务队列(Task Queue)。

执行任务队列中的某个任务，这个被执行的任务就称为执行栈。

所有任务都在主线程上执行，形成一个执行栈。
主线程之外，还存在一个"任务队列"（task queue）。只要异步任务有了运行结果，就在"任务队列"之中放置一个事件。
一旦"执行栈"中的所有同步任务执行完毕，系统就会读取"任务队列"。那些对应的异步任务，结束等待状态，进入执行栈并开始执行。
主线程不断重复上面的第三步。 --->这就是事件循环

## 事件循环是 js 解决异步的原理和本质

提出一个问题

A Ajax 200s B 100s

