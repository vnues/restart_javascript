è¿™ä¸ªå‘¨æœŸä¼šç»™å¾ˆå¤šæ—¶é—´ï¼š

1.ä¸€æ˜¯ä¸ºäº†è§£å†³ç°åœ¨çš„æŠ€æœ¯ç—›ç‚¹ ä¸çŸ¥é“æ€ä¹ˆå†™åŸºç¡€ç»„ä»¶ 2.è€Œæ˜¯ä¸ºäº† review ä¸‹ mv æ¡†æ¶åº•å±‚å®ç°é€»è¾‘,vue ç°åœ¨å°±æ˜¯é€‰æ‹©å…¥æ‰‹çš„å¥½æ¡†æ¶ 3.ä»¥å‰çš„æŠ€æœ¯åŸºç¡€åšå®¢æ²‰æ·€

é‚£ä¹ˆå°±å¼€å§‹å­¦ä¹  ä¸€æ­¥ä¸€è„šå°
''

babel ä¼˜å…ˆçº§æ¯”è¾ƒé«˜ å…ˆæ babel

ä¸Šé¢çš„é…ç½®ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªé¢„è®¾ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨æ’ä»¶ã€‚é¦–å…ˆåŠ ä¸Šæ’ä»¶çš„é…ç½®ã€‚ç”±äºæ˜¯åœ¨æœ¬åœ°å¼€å‘ï¼Œæ’ä»¶ç›´æ¥å†™çš„æœ¬åœ°çš„ç›¸å¯¹åœ°å€ã€‚

{
"presets": [
["es2015"],
["stage-0"]
],
"plugins":["./my-import-babel-plugin"]
}

åœ¨ä¸€ä¸ª function ç±» çœ‹åˆ° this.xxx å±æ€§ ç¬¬ä¸€åæ˜ å°±æ˜¯è¦çŸ¥é“è¿™ä¸ªå°±æ˜¯å®ä¾‹åŒ–å…·æœ‰çš„å±æ€§ï¼ï¼ï¼

å¦‚è´ºè€
è´ºå¸ˆä¿Š
æ‰€è¨€ï¼Œåªæœ‰ UI æ§ä»¶ æ‰å­˜åœ¨åŒå‘ï¼Œé UI æ§ä»¶ åªæœ‰å•å‘ã€‚

å¯¹äºé UI æ§ä»¶æ¥è¯´ï¼Œä¸å­˜åœ¨åŒå‘ï¼Œåªæœ‰å•å‘ã€‚åªæœ‰ UI æ§ä»¶æ‰æœ‰åŒå‘çš„é—®é¢˜ã€‚å•å‘ç»‘å®šä½¿å¾—æ•°æ®æµä¹Ÿæ˜¯å•å‘çš„ï¼Œå¯¹äºå¤æ‚åº”ç”¨æ¥è¯´è¿™æ˜¯å®æ–½ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ reduxï¼‰çš„å‰æã€‚åŒå‘ç»‘å®šåœ¨ä¸€äº›éœ€è¦å®æ—¶ååº”ç”¨æˆ·è¾“å…¥çš„åœºåˆä¼šéå¸¸æ–¹ä¾¿ï¼ˆæ¯”å¦‚å¤šçº§è”åŠ¨èœå•ï¼‰ã€‚ä½†é€šå¸¸è®¤ä¸ºå¤æ‚åº”ç”¨ä¸­è¿™ç§ä¾¿åˆ©æ¯”ä¸ä¸Šå¼•å…¥çŠ¶æ€ç®¡ç†å¸¦æ¥çš„ä¼˜åŠ¿ã€‚æ³¨æ„ï¼ŒVue è™½ç„¶é€šè¿‡ v-model æ”¯æŒåŒå‘ç»‘å®šï¼Œä½†æ˜¯å¦‚æœå¼•å…¥äº†ç±»ä¼¼ redux çš„ vuexï¼Œå°±æ— æ³•åŒæ—¶ä½¿ç”¨ v-modelã€‚å‚è§ https://github.com/vuejs/vuex/blob/master/docs/zh-cn/forms.md

ä½œè€…ï¼šè´ºå¸ˆä¿Š
é“¾æ¥ï¼šhttps://www.zhihu.com/question/49964363/answer/118715469
æ¥æºï¼šçŸ¥ä¹
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

åŒå‘æ•°æ®ç»‘å®šå¯ä»¥ç†è§£ä¸ºåŒå‘æ•°æ®æµ

Vue.js ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯æ•°æ®é©±åŠ¨ã€‚æ‰€è°“æ•°æ®é©±åŠ¨ï¼Œæ˜¯æŒ‡è§†å›¾æ˜¯ç”±æ•°æ®é©±åŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬å¯¹è§†å›¾çš„ä¿®æ”¹ï¼Œä¸ä¼šç›´æ¥æ“ä½œ DOMï¼Œè€Œæ˜¯é€šè¿‡ä¿®æ”¹æ•°æ®ã€‚å®ƒç›¸æ¯”æˆ‘ä»¬ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘ï¼Œå¦‚ä½¿ç”¨ jQuery ç­‰å‰ç«¯åº“ç›´æ¥ä¿®æ”¹ DOMï¼Œå¤§å¤§ç®€åŒ–äº†ä»£ç é‡ã€‚ç‰¹åˆ«æ˜¯å½“äº¤äº’å¤æ‚çš„æ—¶å€™ï¼Œåªå…³å¿ƒæ•°æ®çš„ä¿®æ”¹ä¼šè®©ä»£ç çš„é€»è¾‘å˜çš„éå¸¸æ¸…æ™°ï¼Œå› ä¸º DOM å˜æˆäº†æ•°æ®çš„æ˜ å°„ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„é€»è¾‘éƒ½æ˜¯å¯¹æ•°æ®çš„ä¿®æ”¹ï¼Œè€Œä¸ç”¨ç¢°è§¦ DOMï¼Œè¿™æ ·çš„ä»£ç éå¸¸åˆ©äºç»´æŠ¤

Vue.js å¦ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯ç»„ä»¶åŒ–ã€‚æ‰€è°“ç»„ä»¶åŒ–ï¼Œå°±æ˜¯æŠŠé¡µé¢æ‹†åˆ†æˆå¤šä¸ªç»„ä»¶ (component)ï¼Œæ¯ä¸ªç»„ä»¶ä¾èµ–çš„ CSSã€JavaScriptã€æ¨¡æ¿ã€å›¾ç‰‡ç­‰èµ„æºæ”¾åœ¨ä¸€èµ·å¼€å‘å’Œç»´æŠ¤ã€‚ç»„ä»¶æ˜¯èµ„æºç‹¬ç«‹çš„ï¼Œç»„ä»¶åœ¨ç³»ç»Ÿå†…éƒ¨å¯å¤ç”¨ï¼Œç»„ä»¶å’Œç»„ä»¶ä¹‹é—´å¯ä»¥åµŒå¥—

ç»„ä»¶æ‰å…·æœ‰ç”Ÿå‘½å‘¨æœŸè¿™ç§æ¦‚å¿µ

MVVM å…¨ç§°æ˜¯ Model-View-ViewModel

æ•°æ®æµæ˜¯é’ˆå¯¹äºæ•°æ®æµå‘æ¥è¯´

æµå‘è°ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜

view viewModel è¿™æ˜¯ç›®æ ‡ äº’ç›¸æµå‘å°±æ˜¯åŒå‘

changeMsg() {
this.message = 'Hello World!'
}
è¿™ç§æ“åäº‹ä»¶çš„æœ¬è´¨ä¹Ÿæ˜¯åŒå‘æ•°æ®æµç”¨æ³•ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ

v-model æœ¬èº«å°±æ˜¯ä¸ªè¯­æ³•ç³–å§ è¿™ä¸ªæˆ‘ç›®å‰åŒæ„ ğŸ¤

ç›®å‰æˆ‘è§‰å¾— review vue æºç å…ˆè‡ªå·±æ‰‹åŠ¨å®ç°ä¸ªç®€å•ç‰ˆæœ¬çš„å°±è¡Œ

ä½†æ˜¯ä¸å¯èƒ½åƒ underscore é‚£æ ·å…¨ç¨‹è·Ÿè¿›æˆ–è€…ä»”ç»† reivew

ç°é˜¶æ®µåªèƒ½å›«å›µåæ£

Object.defineProperty(obj, prop, descriptor)

Object.defineProperty æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹å®ƒçš„è¯­æ³•ï¼š

æ¯”è¾ƒæ ¸å¿ƒçš„æ˜¯ descriptorï¼Œå®ƒæœ‰å¾ˆå¤šå¯é€‰é”®å€¼ï¼Œå…·ä½“çš„å¯ä»¥å»å‚é˜…å®ƒçš„æ–‡æ¡£ã€‚è¿™é‡Œæˆ‘ä»¬æœ€å…³å¿ƒçš„æ˜¯ get å’Œ setï¼Œget æ˜¯ä¸€ä¸ªç»™å±æ€§æä¾›çš„ getter æ–¹æ³•ï¼Œå½“æˆ‘ä»¬è®¿é—®äº†è¯¥å±æ€§çš„æ—¶å€™ä¼šè§¦å‘ getter æ–¹æ³•ï¼›set æ˜¯ä¸€ä¸ªç»™å±æ€§æä¾›çš„ setter æ–¹æ³•ï¼Œå½“æˆ‘ä»¬å¯¹è¯¥å±æ€§åšä¿®æ”¹çš„æ—¶å€™ä¼šè§¦å‘ setter æ–¹æ³•ã€‚

ä¸€æ—¦å¯¹è±¡æ‹¥æœ‰äº† getter å’Œ setterï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°æŠŠè¿™ä¸ªå¯¹è±¡ç§°ä¸ºå“åº”å¼å¯¹è±¡ã€‚é‚£ä¹ˆ Vue.js æŠŠå“ªäº›å¯¹è±¡å˜æˆäº†å“åº”å¼å¯¹è±¡äº†å‘¢ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»æºç å±‚é¢åˆ†æ

è¦æœ‰è€å¿ƒ

åšæŒå°±æ˜¯ä¸€ç§è€å¿ƒçš„ä½“ç°

æ²‰ä½æ°”

æ­»ç£•æ­»ç£•ä½å°±æœ‰æ”¶è·

entry(src/platforms/web/entry-runtime-with-compiler.js)

åœ¨ entry ä¸­ï¼Œè¦†ç›–äº†\$mount æ–¹æ³•ã€‚

æŒ‚è½½ compileï¼ŒcompileToFunctions æ–¹æ³•æ˜¯å°† template ç¼–è¯‘ä¸º render å‡½æ•°
Vue.compile = compileToFunctions

è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæ•´çš„è¿‡äº†ä¸€éåœ¨ web ä¸­ Vue çš„æ„é€ å‡½æ•°çš„å˜åŒ–è¿‡ç¨‹:

é€šè¿‡ instance å¯¹ Vue.prototype è¿›è¡Œå±æ€§å’Œæ–¹æ³•çš„æŒ‚è½½ã€‚
é€šè¿‡ core å¯¹ Vue è¿›è¡Œé™æ€å±æ€§å’Œæ–¹æ³•çš„æŒ‚è½½ã€‚
é€šè¿‡ runtime æ·»åŠ äº†å¯¹ platform === 'web'çš„æƒ…å†µä¸‹ï¼Œç‰¹æœ‰çš„é…ç½®ã€ç»„ä»¶ã€æŒ‡ä»¤ã€‚
é€šè¿‡ entry æ¥ä¸º\$mount æ–¹æ³•å¢åŠ ç¼–è¯‘ template çš„èƒ½åŠ›ã€‚

è¿™é‡ŒçŸ¥é“ä¸ºä»€ä¹ˆåœ¨ created æ—¶å€™ï¼Œæ²¡æ³•æ“ä½œ DOM äº†å—ï¼Ÿå› ä¸ºåœ¨è¿™é‡Œï¼Œè¿˜æ²¡æœ‰æ¶‰åŠåˆ°å®é™…çš„ DOM æ¸²æŸ“ã€‚

vue.esm.js

esm --> esmodule

é¢„ç¼–è¯‘æ˜¯å€¼ç»è¿‡ç¼–è¯‘ tenplate çš„æ‰å¯ä»¥ç”¨è¿™ä¸ªæ¡†æ¶
https://zhuanlan.zhihu.com/p/25486761?refer=think-in-vue

https://segmentfault.com/q/1010000009031588

vue.js ï¼š vue.js åˆ™æ˜¯ç›´æ¥ç”¨åœ¨<script>æ ‡ç­¾ä¸­çš„ï¼Œå®Œæ•´ç‰ˆæœ¬ï¼Œç›´æ¥å°±å¯ä»¥é€šè¿‡ script å¼•ç”¨ã€‚

vue.common.js :é¢„ç¼–è¯‘è°ƒè¯•æ—¶ï¼ŒCommonJS è§„èŒƒçš„æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ require("")å¼•ç”¨çš„ NODEJS æ ¼å¼ã€‚
vue.esm.jsï¼šé¢„ç¼–è¯‘è°ƒè¯•æ—¶ï¼Œ EcmaScript Moduleï¼ˆES MODULE)ï¼Œæ”¯æŒ import from æœ€æ–°æ ‡å‡†çš„ã€‚

     //----------------------------------------------------------------------

vue.runtime.js ï¼šç”Ÿäº§çš„è¿è¡Œæ—¶ï¼Œéœ€è¦é¢„ç¼–è¯‘ï¼Œæ¯”å®Œæ•´ç‰ˆå° 30%å·¦å³ï¼Œå‰ç«¯æ€§èƒ½æœ€ä¼˜
vue.runtime.esm.jsï¼šç”Ÿäº§è¿è¡Œæ—¶ï¼Œesm æ ‡å‡†ã€‚
vue.runtime.common.js:ç”Ÿäº§è¿è¡Œæ—¶ï¼ŒcommonJS æ ‡å‡†ã€‚

src ä¸‹çš„æ–‡ä»¶ä¸€èˆ¬ä¸éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘çš„å—

æˆ‘ä»¬ä¸€èˆ¬ç”¨çš„æ˜¯ build è¿‡çš„

ä¹Ÿå°±æ˜¯åœ¨åŒ…ä¸‹çœ‹åˆ° package.json çš„å…¥å£

```javascript
new Vue({
  el: "#app",
   data: {
    msg: 'Hello, Vue.js.'
  },
  components: {
    MyComponent
  }
});


new Vueæ“ä½œdataæ˜¯ä¸ªå¯¹è±¡è€Œ
ç¬¬äºŒç§å†™æ³•ä¸ºå•¥dataæ˜¯ä¸ªå‡½æ•°å¹¶ä¸”returnä¸€ä¸ªå¯¹è±¡
ä½œç”¨åŸŸè¿˜æœ‰å¼•ç”¨ç±»å‹çš„åŸå› 
export default {
  name: "app",
  data(){
      return{}
  }
  components: {
    HelloWorld
  }
};


```
export default {} è·Ÿ var vm = new Vue({}) 
å®Œå…¨ä¸æ˜¯åŒä¸€å›äº‹.
å‰è€…æ˜¯es6çš„moduleä¸­çš„è¯­æ³•,åè€…æ˜¯åˆ›å»ºä¸€ä¸ªvueå®ä¾‹.
æˆ‘æƒ³å¼•èµ·ä½ çš„è¯¯è§£æ˜¯å› ä¸ºä½ ç”¨äº†webpackå¼€å‘vueåŒæ—¶ç”¨äº†vue-loader.
å…¶å®è¿™æœ€ç»ˆä¼šé€šè¿‡vue-loaderå¤„ç†æˆåŸç”Ÿjsä»£ç .å³æ— è®ºå¦‚ä½•éƒ½è¦new Vue()

åœ¨ç”Ÿæˆã€å¯¼å‡ºã€å¯¼å…¥ã€ä½¿ç”¨ Vue ç»„ä»¶çš„æ—¶å€™ï¼Œå¸¸å¸¸è¢«ä½äºä¸åŒæ–‡ä»¶çš„Â new Vue()Â å’ŒÂ export default{}Â ã€‚


Â  Â  Â  é¦–å…ˆï¼ŒVue æ˜¯ä»€ä¹ˆï¼Ÿ po ä¸»çš„ç†è§£æ˜¯ Vue å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”Ÿæˆçš„å®ä¾‹æ˜¯ä¸€ä¸ªå·¨å¤§çš„å¯¹è±¡ï¼Œå¯ä»¥åŒ…å«æ•°æ®ã€æ¨¡æ¿ã€æŒ‚è½½å…ƒç´ ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰é€‰é¡¹ã€‚


æ‰€ä»¥æ¸²æŸ“çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ„é€  Vue å®ä¾‹çš„æ–¹å¼æ¥æ¸²æŸ“ç›¸åº”çš„ html é¡µé¢ï¼š

new Vue({
    el: '#app'
    ...
})

é‚£ä¹ˆ export default {} åˆæ˜¯ï¼Ÿ
Â  Â åœ¨å¤ç”¨ç»„ä»¶çš„æ—¶å€™ç”¨åˆ°çš„ã€‚

Â  Â å‡è®¾æˆ‘ä»¬å†™äº†ä¸€ä¸ªå•é¡µé¢ç»„ä»¶ A æ–‡ä»¶ï¼Œè€Œåœ¨å¦ä¸€ä¸ªæ–‡ä»¶ B é‡Œé¢éœ€è¦ç”¨åˆ°å®ƒï¼Œé‚£ä¹ˆå°±è¦ç”¨Â ES6 çš„ import/export è¯­æ³•Â ï¼Œåœ¨æ–‡ä»¶ A ä¸­å®šä¹‰è¾“å‡ºæ¥å£Â export **ï¼Œåœ¨æ–‡ä»¶ B ä¸­å¼•å…¥Â import **ï¼Œç„¶åå†ç”Ÿæˆä¸€ä¸ª Vue å®ä¾‹Â new Vue (**)ï¼ŒæŠŠå¼•å…¥çš„ç»„ä»¶ç”¨èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥å¤ç”¨ç»„ä»¶ A å»é…åˆæ–‡ä»¶ B ç”Ÿæˆ html é¡µé¢äº†ã€‚
Â  Â  æ‰€ä»¥åœ¨å¤ç”¨ç»„ä»¶çš„æ—¶å€™ï¼ŒexportÂ å’ŒÂ new VueÂ ç¼ºä¸€ä¸å¯ã€‚


```javascript
  new Vue({
  el: "#app",
  // ä¹Ÿå¯ä»¥è¿™æ ·å†™?
   data() {
    return{
          msg: 'Hello, Vue.js.'
    }
  },
  components: {
    MyComponent
  }
})
```

ä¸ºä»€ä¹ˆç»„ä»¶ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç„¶å return ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ new Vue å®ä¾‹é‡Œï¼Œdata å¯ä»¥ç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ

å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼Œä¸” JS é‡Œå¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œå¦‚æœç»„ä»¶ä¸­ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œå­ç»„ä»¶ä¸­çš„ data å±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­ data é€‰é¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œç»„ä»¶å®ä¾‹ä¹‹é—´çš„ data å±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼›è€Œ new Vue çš„å®ä¾‹ï¼Œæ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚

ä½œè€…ï¼šæˆ‘æ˜¯ä½ çš„è¶…çº§è‹±é›„
é“¾æ¥ï¼šhttps://juejin.im/post/5d59f2a451882549be53b170
æ¥æºï¼šæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

ä¹Ÿå°±æ˜¯è¿™ä¹ˆç†è§£ export defaultå‡ºå»çš„æ˜¯vueç»„ä»¶

new Vueæ˜¯å®ä¾‹ä¸å­˜åœ¨å¼•ç”¨çš„æƒ…å†µæ‰€ä»¥dataå¯ä»¥æ˜¯å¯¹è±¡


å¥½ğŸ‘Œè¿™ä¸ªä½œä¸ºé¢è¯•é¢˜ä¸é”™


é‚£ä¹ˆé—®é¢˜æ¥äº† vueç»„ä»¶å’Œvueå®ä¾‹çš„åŒºåˆ«



ä½†æ˜¯çœ‹vueå®˜æ–¹æ–‡æ¡£è¯´æ‰€æœ‰çš„Vueç»„ä»¶éƒ½æ˜¯Vueå®ä¾‹
ä¸€èˆ¬æˆ‘æŠŠç»„ä»¶åˆ†ä¸ºä¸‰ç§ï¼š

æ ¹ç»„ä»¶ï¼Œå†…éƒ¨å¯ä»¥å«æœ‰å­ç»„ä»¶ï¼Œæ˜¯æ•´ä¸ªç»„ä»¶æ ‘çš„æœ€ä¸Šå±‚ã€‚
å­ç»„ä»¶ï¼Œéæœ€ä¸Šå±‚çš„ç»„ä»¶ï¼Œå½“ç„¶å†…éƒ¨ä¹Ÿå¯ä»¥åŒ…å«æ›´ä½å±‚çš„å­ç»„ä»¶ã€‚
æ¸¸ç¦»ç»„ä»¶ï¼šé€šè¿‡ new Vue('').$mount(xx) çš„æ–¹å¼å‘ç»„ä»¶æ ‘ä¹‹å¤–çš„ bodyä¸­æŒ‚è½½æ–°çš„å®ä¾‹ï¼ˆå¾ˆå¤šé€šçŸ¥ã€å¼¹çª—æ€§çš„ç»„ä»¶éƒ½æ˜¯è¿™ä¹ˆå®ç°çš„ï¼‰ï¼Œä¸€èˆ¬æ˜¯ä¸´æ—¶æ€§è´¨çš„ï¼Œå†…éƒ¨å¯ä»¥åŒ…å«å­ç»„ä»¶ï¼Œä½†æ˜¯åªæœ‰ç®€å•çš„åŠŸèƒ½å’Œç»“æ„ï¼Œå…¶å®ä¹Ÿæ˜¯æœ¬èº«è¿™ä¸ªå°ç»„ä»¶æ ‘çš„æœ€ä¸Šå±‚ã€‚


æ²¡æœ‰å®è´¨æ€§çš„åŒºåˆ«ï¼Œä¸€ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ª vue å®ä¾‹ï¼Œåªä¸è¿‡å¤§å¤šæ•°æƒ…å†µä¸‹ä½œä¸ºç»„ä»¶çš„å®ä¾‹æ˜¯çˆ¶çº§ç»„ä»¶æ¥åˆå§‹åŒ–çš„ã€‚ç¡¬è¦è¯´ç»„ä»¶ç‰¹æ®Šçš„åœ°æ–¹ï¼Œæ— éæ˜¯ç»„ä»¶çš„ data æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå› ä¸ºç»„ä»¶å¯ä»¥è¢«ç”Ÿæˆå¤šæ¬¡ï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„è¯é‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†è¢«æ‰€æœ‰ç»„ä»¶å®ä¾‹å…±äº«ã€‚å¦å¤–åœ¨ Vue 2 ä¸­å¼•å…¥äº† Functional Component çš„æ¦‚å¿µï¼ŒFunctional Component ä¸å†æ˜¯ä¸€ä¸ª vue å®ä¾‹äº†ï¼Œå®ƒåªæ¸²æŸ“è§†å›¾è€Œä¸èƒ½è¿›è¡Œé€»è¾‘æ“ä½œï¼Œç±»ä¼¼äº Vue 1 ä¸­ partial çš„æ¦‚å¿µã€‚

è¦æƒ³å¼„æ¸…æ¥šå®ƒå°±æ¥è¯•è¯•Vueå®ä¾‹


æˆ‘ä»¬ä¸ç”¨è„šæ‰‹æ¶æ¥å†™ ç›´æ¥å¼•å…¥vue.jsæ¥å†™


å¦‚æœä½ è¿˜åœ¨é˜…è¯»ï¼Œè¯´æ˜ä½ ä½¿ç”¨äº†è¯¸å¦‚ Babel å’Œ webpack çš„æ¨¡å—ç³»ç»Ÿã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¨èåˆ›å»ºä¸€ä¸ª components ç›®å½•ï¼Œå¹¶å°†æ¯ä¸ªç»„ä»¶æ”¾ç½®åœ¨å…¶å„è‡ªçš„æ–‡ä»¶ä¸­ã€‚

ç„¶åä½ éœ€è¦åœ¨å±€éƒ¨æ³¨å†Œä¹‹å‰å¯¼å…¥æ¯ä¸ªä½ æƒ³ä½¿ç”¨çš„ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå‡è®¾çš„ ComponentB.js æˆ– ComponentB.vue æ–‡ä»¶ä¸­



```javascript
 
   new Vue({
  el: '#app',
  components: {
    'component-a': ComponentA,
    'component-b': ComponentB
  }
})

```
ç»„ä»¶å®é™…å¯ä»¥ç†è§£æˆVueå®ä¾‹

åªä¸è¿‡ä½ çœŸè¦å¯¹æ¯”å°±æ˜¯ç»„ä»¶çš„dataæ˜¯ä¸ªå‡½æ•°

è€Œå®ä¾‹Vueæ˜¯data


è¿™ä¸ªçš„çŸ¥è¯†ç‚¹å¯¹æˆ‘ä»¬debugä»£ç å¾ˆæœ‰ç”¨

å› ä¸ºåé¢å°±æ˜¯å®ä¾‹Vueå’Œç»„ä»¶

æˆ‘å€’è¦çœ‹çœ‹è¿™ä¸¤è€…æ˜¯å¦‚ä½•å®ç°çš„

æˆ‘ä»¬çš„srcçš„vueä»£ç æ˜¯è¦ç»è¿‡ç¼–è¯‘çš„ æ¯”å¦‚flowç±»å‹æ³¨è§£
è‚¯å®šä¸ä¼šéº»çƒ¦å¼€å‘è€…è¿˜æœ‰å¸®ä½ ç¼–è¯‘



vueå’ŒreactåŒºåˆ«

vueæŠŠä¸œè¥¿éƒ½å°è£…çš„å¾ˆå¥½è®©ä½ ç”¨

è€Œreactæ˜¯æ²¡æœ‰å°è£…è®©ä½ éšå¿ƒæ‰€æ¬²å»å‘æŒ¥

æ¯”å¦‚vueçš„templateæ¨¡æ¿è¿˜è¦ç¼–è¯‘æˆrenderå‡½æ•°ï¼Œè™½ç„¶vueä¹Ÿæä¾›äº†renderå‡½æ•°ç»™å¼€å‘è€…ä½¿ç”¨

å¸®æˆ‘ä»¬å°è£…äº†è¿™ä¸€å±‚  å°è£…å¤ªå¤šçš„æ„å›¾å°±æ˜¯ä¸ºäº†ç®€åŒ–å¼€å‘ ä½†æ˜¯éš¾ä»¥å‘ç°é—®é¢˜

è¿™æ˜¯è‡ªå·±é¢†æ‚Ÿçš„é‡è¦ä¸€ç‚¹â—ï¸â—ï¸â—ï¸


### process.env.NODE_ENV

è¿™ä¸ªç”¨äºåˆ¤æ–­æ‰“åŒ…æ„å»ºè¿è¡Œçš„ ä¸€èˆ¬æ˜¯webpackèµ·çš„æœåŠ¡å°±æœ‰è¿™ä¸ªå˜é‡

ä½†æ˜¯ä½ å¦‚æœå»æŸ¥çœ‹buidä»£ç åvue.jsæ˜¯æ²¡æœ‰è¿™ä¸ªä¸œè¥¿çš„

æ‰€ä»¥æˆ‘ä»¬å°±ç†è§£æˆè¿™ä¸ªä¸œè¥¿æ˜¯ç”¨æ¥åˆ¤æ–­æ‰€å¤„äºçš„ç¯å¢ƒå°±è¡Œ  åªè¦æ˜ç™½è¿™ç‚¹å°±è¡Œ

è¿˜ğŸˆ¶æ³¨æ„ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šå–åˆ°



### new Vueå‘ç”Ÿäº†ä»€ä¹ˆ

Vue åˆå§‹åŒ–ä¸»è¦å°±å¹²äº†å‡ ä»¶äº‹æƒ…ï¼Œåˆå¹¶é…ç½®ï¼Œåˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸï¼Œåˆå§‹åŒ–äº‹ä»¶ä¸­å¿ƒï¼Œåˆå§‹åŒ–æ¸²æŸ“ï¼Œåˆå§‹åŒ– dataã€propsã€computedã€watcher ç­‰ç­‰ã€‚


â—ï¸â—ï¸â—ï¸æ³¨æ„æˆ‘ä»¬çš„ç”¨çš„åŒ…ä½¿ç”¨åˆ°åº•æ˜¯ä»€ä¹ˆæ–‡ä»¶ å¦‚æœæœ‰pakcage.jsonå°±çœ‹å®ƒçš„å…¥å£

å¦åˆ™å°±æ˜¯index.jsä½œä¸ºå…¥å£è¿™ç‚¹è®¤çŸ¥å¾ˆé‡è¦  å†³å®šä½ debuggeræœ‰æ²¡æœ‰æ•ˆæœ


### æ•°æ®å¦‚ä½•æ¸²æŸ“æˆdomçš„


æ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹åˆ†æå¸¦ compiler ç‰ˆæœ¬çš„ $mount å®ç°ï¼Œå› ä¸ºæŠ›å¼€ webpack çš„ vue-loaderï¼Œæˆ‘ä»¬åœ¨çº¯å‰ç«¯æµè§ˆå™¨ç¯å¢ƒåˆ†æ Vue çš„å·¥ä½œåŸç†ï¼Œæœ‰åŠ©äºæˆ‘ä»¬å¯¹åŸç†ç†è§£çš„æ·±å…¥ã€‚ --- æ•°æ®å¦‚ä½•æ¸²æŸ“æˆdomçš„


è¿™æ®µä»£ç é¦–å…ˆç¼“å­˜äº†åŸå‹ä¸Šçš„ $mount æ–¹æ³•ï¼Œå†é‡æ–°å®šä¹‰è¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æè¿™æ®µä»£ç ã€‚é¦–å…ˆï¼Œå®ƒå¯¹ el åšäº†é™åˆ¶ï¼ŒVue ä¸èƒ½æŒ‚è½½åœ¨ bodyã€html è¿™æ ·çš„æ ¹èŠ‚ç‚¹ä¸Šã€‚æ¥ä¸‹æ¥çš„æ˜¯å¾ˆå…³é”®çš„é€»è¾‘ â€”â€” å¦‚æœæ²¡æœ‰å®šä¹‰ render æ–¹æ³•ï¼Œåˆ™ä¼šæŠŠ el æˆ–è€… template å­—ç¬¦ä¸²è½¬æ¢æˆ render æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä»¬è¦ç‰¢è®°ï¼Œåœ¨ Vue 2.0 ç‰ˆæœ¬ä¸­ï¼Œæ‰€æœ‰ Vue çš„ç»„ä»¶çš„æ¸²æŸ“æœ€ç»ˆéƒ½éœ€è¦ render æ–¹æ³•ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯ç”¨å•æ–‡ä»¶ .vue æ–¹å¼å¼€å‘ç»„ä»¶ï¼Œè¿˜æ˜¯å†™äº† el æˆ–è€… template å±æ€§ï¼Œæœ€ç»ˆéƒ½ä¼šè½¬æ¢æˆ render æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹æ˜¯ Vue çš„ä¸€ä¸ªâ€œåœ¨çº¿ç¼–è¯‘â€çš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯è°ƒç”¨ compileToFunctions æ–¹æ³•å®ç°çš„ï¼Œç¼–è¯‘è¿‡ç¨‹æˆ‘ä»¬ä¹‹åä¼šä»‹ç»ã€‚æœ€åï¼Œè°ƒç”¨åŸå…ˆåŸå‹ä¸Šçš„ $mount æ–¹æ³•æŒ‚è½½ã€‚


ç”Ÿå‘½å‘¨æœŸæºç æ˜¯æ€ä¹ˆå»å®ç°çš„

ç›‘å¬è§¦å‘


noopç¼–ç¨‹ç•Œå¸¸ç”¨äºè¡¨ç¤ºç©ºå‡½æ•°


Vueçš„watchå°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼


### Vueçš„å“åº”å¼ç³»ç»Ÿ

Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ˜¯å…¶éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿã€‚æ•°æ®æ¨¡å‹ä»…ä»…æ˜¯æ™®é€šçš„JavaScript å¯¹è±¡ï¼Œè€Œå½“ä½ ä¿®æ”¹å®ƒä»¬æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œæ›´æ–°ï¼Œè¿™ä½¿å¾—çŠ¶æ€ç®¡ç†éå¸¸ç®€å•ç›´æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åªå…³æ³¨æ•°æ®æœ¬èº«ï¼Œè€Œä¸ç”¨æ‰‹åŠ¨å¤„ç†æ•°æ®åˆ°è§†å›¾çš„æ¸²æŸ“ï¼Œé¿å…äº†ç¹ççš„ DOM æ“ä½œï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚

vue çš„å“åº”å¼ç³»ç»Ÿä¾èµ–äºä¸‰ä¸ªé‡è¦çš„ç±»ï¼šDep ç±»ã€Watcher ç±»ã€Observer ç±»ï¼Œç„¶åä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ€æƒ³å°†ä»–ä»¬æ‰åˆåœ¨ä¸€èµ·ï¼ˆä¸äº†è§£å‘å¸ƒè®¢é˜…æ¨¡å¼çš„å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸è§‚å¯Ÿè€…æ¨¡å¼ï¼‰ã€‚


Observeæ˜¯å¯¹æ•°æ®è¿›è¡Œç›‘å¬ï¼ŒDepæ˜¯ä¸€ä¸ªè®¢é˜…å™¨ï¼Œæ¯ä¸€ä¸ªè¢«ç›‘å¬çš„æ•°æ®éƒ½æœ‰ä¸€ä¸ªDepå®ä¾‹ï¼ŒDepå®ä¾‹é‡Œé¢å­˜æ”¾äº†Nå¤šä¸ªè®¢é˜…è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰å¯¹è±¡watcherã€‚


äº‹ä»¶çš„è®¾è®¡æ¨¡å¼æœ¬æ¥å°±æ˜¯å‘å¸ƒå’Œè®¢é˜…


### è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰

è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ï¼Œè¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡ä¹‹é—´çš„é€šè®¯ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¹‹é—´çš„é€šè®¯ã€‚



æ¯”å¦‚ä¸€ä¸ªå˜é‡ä¾èµ–äºc=a+b  aå˜åŒ–äº† bä¹Ÿåº”è¯¥å“åº”å˜åŒ–  å°±æ˜¯è¦è€ƒè™‘è¿™ç§åœºæ™¯


è®¾è®¡æ¨¡å¼ä¹‹å‰ç”¨äºé¢å‘å¯¹è±¡çš„æœ¯è¯­â—ï¸â—ï¸â—ï¸


ä»€ä¹ˆæ˜¯æ”¶é›†ä¾èµ–ï¼Œé€šçŸ¥è§‚å¯Ÿè€…

Watcheræ‰®æ¼”çš„è§’è‰²æ˜¯è®¢é˜…è€…/è§‚å¯Ÿè€…ï¼Œä»–çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºè§‚å¯Ÿå±æ€§æä¾›å›è°ƒå‡½æ•°ä»¥åŠæ”¶é›†ä¾èµ–ï¼ˆå¦‚è®¡ç®—å±æ€§computedï¼Œvueä¼šæŠŠè¯¥å±æ€§æ‰€ä¾èµ–æ•°æ®çš„depæ·»åŠ åˆ°è‡ªèº«çš„depsä¸­ï¼‰ï¼Œå½“è¢«è§‚å¯Ÿçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šæ¥æ”¶åˆ°æ¥è‡ªdepçš„é€šçŸ¥ï¼Œä»è€Œè§¦å‘å›è°ƒå‡½æ•°ã€‚ï¼Œ



normal-watcher
æˆ‘ä»¬åœ¨ watch ä¸­å®šä¹‰çš„ï¼Œéƒ½å±äºè¿™ç§ç±»å‹ï¼Œå³åªè¦ç›‘å¬çš„å±æ€§æ”¹å˜äº†ï¼Œéƒ½ä¼šè§¦å‘å®šä¹‰å¥½çš„å›è°ƒå‡½æ•°
computed-watcher
æ¯ä¸€ä¸ª computed å±æ€§ï¼Œæœ€åéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ watcher å¯¹è±¡ï¼Œä½†æ˜¯è¿™ç±» watcher æœ‰ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬æ‹¿ä¸Šé¢çš„ b ä¸¾ä¾‹ï¼š
å±æ€§ b ä¾èµ– aï¼Œå½“ a æ”¹å˜çš„æ—¶å€™ï¼Œb å¹¶ä¸ä¼šç«‹å³é‡æ–°è®¡ç®—ï¼Œåªæœ‰ä¹‹åå…¶ä»–åœ°æ–¹éœ€è¦è¯»å– b çš„æ—¶å€™ï¼Œå®ƒæ‰ä¼šçœŸæ­£è®¡ç®—ï¼Œå³å…·å¤‡ lazyï¼ˆæ‡’è®¡ç®—ï¼‰ç‰¹æ€§
render-watcher
æ¯ä¸€ä¸ªç»„ä»¶éƒ½ä¼šæœ‰ä¸€ä¸ª render-watcher, function () {â†µ vm._update(vm._render(), hydrating);â†µ }, å½“ data/computed
ä¸­çš„å±æ€§æ”¹å˜çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨è¯¥ render-watcher æ¥æ›´æ–°ç»„ä»¶çš„è§†å›¾



è®¿é—®å¯¹è±¡å±æ€§æ—¶å€™ å°±ä¼šè§¦å‘get
ä¿®æ”¹å°±æ˜¯set


è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼æœ‰ä¸ªäº‹ä»¶è°ƒåº¦ä¸­å¿ƒã€‚â—ï¸â—ï¸â—ï¸


get---->æ”¶é›†ä¾èµ–
set---->è§¦å‘æ›´æ–°

è§¦å‘æ›´æ–°æˆ‘çŸ¥é“ æ”¶é›†ä¾èµ–æ˜¯ä»€ä¹ˆ  éš¾é“æ˜¯æ”¶é›†é‚£äº›è®¢é˜…è€…â—ï¸â—ï¸â—ï¸æˆ‘è§‰å¾—åº”è¯¥æ²¡é”™

ä¸ºä»€ä¹ˆè¦æ”¶é›†ä¾èµ– å› ä¸ºæ¯”å¦‚ aè®¢é˜…äº†å‘å¸ƒè€… bä¹Ÿè®¢é˜…äº†å‘å¸ƒè€… ä½†æ˜¯cæ²¡æœ‰ cæ˜¯a+b è¿™æ˜¾ç„¶éœ€è¦æ”¶é›†

æˆ‘çš„ç†è§£å°±æ˜¯è¿™æ ·ç»§ç»­æ·±å…¥å­¦ä¹ äº†è§£



é¢è¯•é—®ï¼švueä¸­æœ‰æ”¶é›†ä¾èµ–ï¼Œä½†æ˜¯åœ¨å“ªé‡Œæ”¶é›†ä¾èµ–çš„ï¼Ÿï¼Ÿ
æ˜¯æ‰§è¡Œrenderå‡½æ•°ç”Ÿäº§vnodeçš„æ—¶å€™ï¼Œè¿™æ—¶å€™æ‰è§¦å‘get


~~Vueæ˜¯ä¸€ä¸ªå®ç°æ•°æ®é©±åŠ¨è§†å›¾çš„æ¡†æ¶~~ï¼ˆåºŸè¯ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œè¯´é‡ç‚¹ï¼‰ æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒVueèƒ½å¤Ÿå®ç°å½“ä¸€ä¸ªæ•°æ®å˜æ›´æ—¶ï¼Œè§†å›¾å°±è¿›è¡Œåˆ·æ–°ï¼Œè€Œä¸”ç”¨åˆ°è¿™ä¸ªæ•°æ®çš„å…¶ä»–åœ°æ–¹ä¹Ÿä¼šåŒæ­¥å˜æ›´ï¼›è€Œä¸”ï¼Œè¿™ä¸ªæ•°æ®å¿…é¡»æ˜¯åœ¨æœ‰è¢«ä¾èµ–çš„æƒ…å†µä¸‹ï¼Œè§†å›¾å’Œå…¶ä»–ç”¨åˆ°æ•°æ®çš„åœ°æ–¹æ‰ä¼šå˜æ›´ã€‚ æ‰€ä»¥ï¼ŒVueè¦èƒ½å¤ŸçŸ¥é“ä¸€ä¸ªæ•°æ®æ˜¯å¦è¢«ä½¿ç”¨ï¼Œå®ç°è¿™ç§æœºåˆ¶çš„æŠ€æœ¯å«åšä¾èµ–æ”¶é›†æ ¹æ®Vueå®˜æ–¹æ–‡æ¡£çš„ä»‹ç»ï¼Œå…¶åŸç†å¦‚ä¸‹å›¾æ‰€


å°±æ˜¯æœ‰æ²¡æœ‰ä½¿ç”¨å®ƒ è°ä¾èµ–äº†å®ƒ
è€Œä¸”ï¼Œè¿™ä¸ªæ•°æ®å¿…é¡»æ˜¯åœ¨æœ‰è¢«ä¾èµ–çš„æƒ…å†µä¸‹ï¼Œè§†å›¾å’Œå…¶ä»–ç”¨åˆ°æ•°æ®çš„åœ°æ–¹æ‰ä¼šå˜æ›´

ä¸ç„¶æˆ‘å†™äº†ä¸€å¤§å †æ•°æ® è§†å›¾æ²¡æœ‰ä¾èµ–æ•°æ®çš„åœ°æ–¹è¿˜è¦å»æ›´æ–°å°±æµªè´¹èµ„æºäº†

ä¾èµ–æ”¶é›† å°±æ˜¯æ”¶é›†è§†å›¾ä¾èµ–dataçš„åœ°æ–¹

https://juejin.im/entry/5bdab35d6fb9a0224e0e5794


Vue çš„ _render æ–¹æ³•æ˜¯å®ä¾‹çš„ä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼Œå®ƒç”¨æ¥æŠŠå®ä¾‹æ¸²æŸ“æˆä¸€ä¸ªè™šæ‹Ÿ Nodeã€‚å®ƒçš„å®šä¹‰åœ¨ src/core/instance/render.js æ–‡ä»¶ä¸­ï¼š


Proxy å¯¹è±¡çš„æ‰€æœ‰ç”¨æ³•ï¼Œéƒ½æ˜¯ä¸Šé¢è¿™ç§å½¢å¼ï¼Œä¸åŒçš„åªæ˜¯handlerå‚æ•°çš„å†™æ³•ã€‚å…¶ä¸­ï¼Œnew Proxy()è¡¨ç¤ºç”Ÿæˆä¸€ä¸ªProxyå®ä¾‹ï¼Œtargetå‚æ•°è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ï¼Œhandlerå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶æ‹¦æˆªè¡Œä¸ºã€‚


æå‡ºé—®é¢˜çš„ä¸€ç‚¹

<div id="app">
  {{ message }}
</div>
var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!'
  }
})


å¼„æ¸…æ¥šæ¨¡æ¿å’Œæ•°æ®å¦‚ä½•æ¸²æŸ“æˆæœ€ç»ˆçš„ DOMã€‚


dom ---> render  é‚£ä¹ˆåˆ°åº•å¯¹è¿™ä¸ªrenderåšäº†ä»€ä¹ˆ  

```javascript

  render(createElement) {
    // è¿™æ ·å†™ç›´æ¥æ›¿æ¢åˆ°app1æ•´ä¸ª
    return createElement('div',{
        attrs:{
          id:'app'
        }
    })
  },

```

æ‰§è¡Œè¿™ä¸ªrenderå‡½æ•° callè°ƒç”¨  createElementåˆ°åº•åšäº†å•¥   $mount--> _render uppdate  -->æœ€åæŠŠæ•°æ®æ˜ å°„åˆ°domä¸Š

è‚¯å®šæ˜¯ç”Ÿæˆè™šæ‹ŸVnodeæ­¤æ—¶çš„æ•°æ®ä¹Ÿæ˜¯ç”Ÿæˆå¥½çš„é…ç½®åœ¨Vnodeä¸Šäº†  è‡³äºæ¨¡æ¿æˆ–è€…æ•°æ®åˆæ³•ä¸ç”±renderå‡½æ•°é‚£å—å»æ§åˆ¶æ’æŸ¥



isPrimitiveæ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸ºåŸºç¡€ç±»å‹



â—ï¸â—ï¸â—ï¸æ³¨æ„è®¤æ¸…æ¥šä»€ä¹ˆæ˜¯æ–‡æœ¬èŠ‚ç‚¹

```javascript
   
   render(createElement) {
    // è¿™æ ·å†™ç›´æ¥æ›¿æ¢åˆ°app1æ•´ä¸ª
    return createElement('div',{
        attrs:{
          id:'app'
        }
    },['1231231',createElement('div',["hello review vue h1",createElement('h3',"hello review vue h3")]),createElement('h2',"hello review vue h2")])
  }

```

### renderå‡½æ•°çš„ä¸‰ä¸ªå‚æ•°

/**
    * createElement æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‚æ•°
    * è¿”å›å€¼: VNodeï¼Œå³è™šæ‹ŸèŠ‚ç‚¹
    * 1. ä¸€ä¸ª HTML æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œç»„ä»¶é€‰é¡¹å¯¹è±¡ï¼Œæˆ–è€…è§£æä¸Šè¿°ä»»ä½•ä¸€ç§çš„ä¸€ä¸ª async å¼‚æ­¥å‡½æ•°ã€‚å¿…éœ€å‚æ•°ã€‚{String | Object | Function} - å°±æ˜¯ä½ è¦æ¸²æŸ“çš„æœ€å¤–å±‚æ ‡ç­¾
    * 2. ä¸€ä¸ªåŒ…å«æ¨¡æ¿ç›¸å…³å±æ€§çš„æ•°æ®å¯¹è±¡ä½ å¯ä»¥åœ¨ template ä¸­ä½¿ç”¨è¿™äº›ç‰¹æ€§ã€‚å¯é€‰å‚æ•°ã€‚{Object} - 1ä¸­çš„æ ‡ç­¾çš„å±æ€§
    * 3. å­è™šæ‹ŸèŠ‚ç‚¹ (VNodes)ï¼Œç”± `createElement()` æ„å»ºè€Œæˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ¥ç”Ÿæˆâ€œæ–‡æœ¬è™šæ‹ŸèŠ‚ç‚¹â€ã€‚å¯é€‰å‚æ•°ã€‚{String | Array} - 1çš„å­èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨ createElement() åˆ›å»ºï¼Œæ–‡æœ¬èŠ‚ç‚¹ç›´æ¥å†™å°±å¯ä»¥
    */
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œ__Amyã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/sansan_7957/article/details/83014838

çªç„¶æƒ³åˆ°ä¸ºä»€ä¹ˆè¦æ‰å¹³å¤„ç†æ•°ç»„ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ


https://juejin.im/post/59b53a595188257e7406fe3d

ç›®å‰æ¥è¯´ï¼Œ _createElement æ¯”è¾ƒé‡è¦çš„ç‚¹æ˜¯normalizeChildren(children) å’Œ simpleNormalizeChildren(children)æ–¹æ³•ã€‚

simpleNormalizeChildrenæŠŠäºŒç»´æ•°ç»„æ‹å¹³ã€‚([1,2,[3,4],5])





ä¸ºä»€ä¹ˆéœ€è¦æ‹å¹³ ä½¿ç”¨v-forçš„æƒ…å†µ


simpleNormalizeChildren æ–¹æ³•è°ƒç”¨åœºæ™¯æ˜¯ render å‡½æ•°æ˜¯ç¼–è¯‘ç”Ÿæˆçš„ã€‚ç†è®ºä¸Šç¼–è¯‘ç”Ÿæˆçš„ children éƒ½å·²ç»æ˜¯ VNode ç±»å‹çš„ï¼Œä½†è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå°±æ˜¯ functional component å‡½æ•°å¼ç»„ä»¶è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šé€šè¿‡ Array.prototype.concat æ–¹æ³•æŠŠæ•´ä¸ª children æ•°ç»„æ‰“å¹³ï¼Œè®©å®ƒçš„æ·±åº¦åªæœ‰ä¸€å±‚ã€‚

normalizeChildren æ–¹æ³•çš„è°ƒç”¨åœºæ™¯æœ‰ 2 ç§ï¼Œä¸€ä¸ªåœºæ™¯æ˜¯ render å‡½æ•°æ˜¯ç”¨æˆ·æ‰‹å†™çš„ï¼Œå½“ children åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼ŒVue.js ä»æ¥å£å±‚é¢å…è®¸ç”¨æˆ·æŠŠ children å†™æˆåŸºç¡€ç±»å‹ç”¨æ¥åˆ›å»ºå•ä¸ªç®€å•çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œè¿™ç§æƒ…å†µä¼šè°ƒç”¨ createTextVNode åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„ VNodeï¼›å¦ä¸€ä¸ªåœºæ™¯æ˜¯å½“ç¼–è¯‘ slotã€v-for çš„æ—¶å€™ä¼šäº§ç”ŸåµŒå¥—æ•°ç»„çš„æƒ…å†µï¼Œä¼šè°ƒç”¨ normalizeArrayChildren æ–¹æ³•ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å®ƒçš„å®ç°ï¼š

### vueçš„å‡½æ•°å¼ç»„ä»¶

ç„¶åå†å¯¹åº”çš„èŠ‚ç‚¹éå†å…¶children ä¼šå‘ç°æ˜¯ä¸ªæ•°ç»„å½“ç„¶å¾—æ‰“å¹³æ¥

ç†è®ºä¸Šç¼–è¯‘ç”Ÿæˆçš„ children éƒ½å·²ç»æ˜¯ VNode ç±»å‹çš„ï¼Œä½†è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå°±æ˜¯ functional component å‡½æ•°å¼ç»„ä»¶è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šé€šè¿‡ Array.prototype.concat æ–¹æ³•æŠŠæ•´ä¸ª children æ•°ç»„æ‰“å¹³

åªåœ¨ä¸€å±‚åšæ‰“å¹³ ä¸ºä»€ä¹ˆæ˜¯è¿™æ · å› ä¸º
because functional components already normalize their own children.



é‚£ä¹ˆé—®é¢˜æ¥äº†


vueçš„å‡½æ•°å¼ç»„ä»¶æ€ä¹ˆå†™

export default {
    name: 'functional-button',
    functional: true,
    render(createElement, context) {
        return createElement('button', 'click me')
    }
}



https://blog.csdn.net/xuchaobei123/article/details/75195522



åœ¨ 2.5.0 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨äº†å•æ–‡ä»¶ç»„ä»¶ï¼Œé‚£ä¹ˆåŸºäºæ¨¡æ¿çš„å‡½æ•°å¼ç»„ä»¶å¯ä»¥è¿™æ ·å£°æ˜ï¼š

<template functional>
  <div class="cell">
    <div v-if="props.value" class="on"></div>
    <section v-else class="off"></section>
  </div>
</template>

<script>
export default {
  props: ['value']
}
</script>

æˆ‘ä»¬æ ‡è®°ç»„ä»¶ä¸º functionalï¼Œè¿™æ„å‘³å®ƒæ˜¯æ— çŠ¶æ€ (æ²¡æœ‰å“åº”å¼æ•°æ®)ï¼Œæ— å®ä¾‹ (æ²¡æœ‰ this ä¸Šä¸‹æ–‡)ã€‚

æç¤ºï¼šå‡½æ•°å¼ç»„ä»¶æ¯”æ™®é€šç»„ä»¶æ€§èƒ½æ›´å¥½ï¼Œç¼ºç‚¹æ˜¯å®šä¹‰çš„æ•°æ®æ²¡æœ‰å“åº”å¼ã€‚
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œå‰ç«¯ç²¾é«“ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/wu_xianqiang/article/details/88891701



é¦–å…ˆvnodeå’ŒoldVnodeéƒ½æ˜¯ä¹‹å‰å®šä¹‰å¥½çš„ï¼Œæ‰€ä»¥å¹¶ä¸æˆç«‹ if (isUndef(vnode)) {}

å› ä¸ºisRealElementä¸ºtrueï¼Œæ‰€ä»¥è¿›å…¥if (isRealElement) {}ï¼Œè¿›è€Œ if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {}ä¹Ÿä¸æˆç«‹ï¼Œå› ä¸ºhydrating ä¸ºfalseï¼Œæ‰€ä»¥ if (isTrue(hydrating)) {} ä¸ºfalseã€‚ä¹‹åæ‰§è¡Œåˆ°oldVnode = emptyNodeAt(oldNode)
åœ¨emptyNodeatä¸­æ‰§è¡Œçš„å®é™…ä¸Šæ˜¯å°†æŠŠçœŸå®çš„domè½¬åŒ–ä¸ºvnode



Virtual DOM é™¤äº†å®ƒçš„æ•°æ®ç»“æ„çš„å®šä¹‰ï¼Œæ˜ å°„åˆ°çœŸå®çš„ DOM å®é™…ä¸Šè¦ç»å† VNode çš„ createã€diffã€patch ç­‰è¿‡ç¨‹ã€‚é‚£ä¹ˆåœ¨ Vue.js ä¸­ï¼ŒVNode çš„ create æ˜¯é€šè¿‡ä¹‹å‰æåˆ°çš„ createElement æ–¹æ³•åˆ›å»ºçš„ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åˆ†æè¿™éƒ¨åˆ†çš„å®ç°ã€‚

diffç®—æ³•æ˜¯åœ¨createElementé˜¶æ®µ

--->å°±æ˜¯renderé˜¶æ®µ



æ€ä¹ˆåšåˆ°æ•°æ®é©±åŠ¨



å½“ä½ çœ‹ä¸€ä¸ªé¡¹ç›®ä»£ç çš„æ—¶å€™ï¼Œæœ€å¥½æ˜¯èƒ½æ‰¾åˆ°ä¸€æ¡ä¸»çº¿ï¼Œå…ˆæŠŠå¤§ä½“æµç¨‹ç»“æ„æ‘¸æ¸…æ¥šï¼Œå†æ·±å…¥åˆ°ç»†èŠ‚ï¼Œé€é¡¹å‡»ç ´ï¼Œæ‹¿Vueä¸¾ä¸ªæ —å­ï¼šå‡å¦‚ä½ å·²ç»çŸ¥é“Vueä¸­æ•°æ®çŠ¶æ€æ”¹å˜åä¼šé‡‡ç”¨virtual DOMçš„æ–¹å¼æ›´æ–°DOMï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœä½ ä¸äº†è§£virtual DOMï¼Œé‚£ä¹ˆå¬æˆ‘ä¸€å¥â€œæš‚ä¸”ä¸è¦å»ç ”ç©¶å†…éƒ¨å…·ä½“å®ç°ï¼Œå› ä¸ºè¿™ä¼šæ˜¯ä½ ä¸§å¤±ä¸»çº¿â€ï¼Œè€Œä½ ä»…ä»…éœ€è¦çŸ¥é“virtual DOMåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š

ä¸€ã€createElement(): ç”¨ JavaScriptå¯¹è±¡(è™šæ‹Ÿæ ‘) æè¿° çœŸå®DOMå¯¹è±¡(çœŸå®æ ‘)
äºŒã€diff(oldNode, newNode) : å¯¹æ¯”æ–°æ—§ä¸¤ä¸ªè™šæ‹Ÿæ ‘çš„åŒºåˆ«ï¼Œæ”¶é›†å·®å¼‚
ä¸‰ã€patch() : å°†å·®å¼‚åº”ç”¨åˆ°çœŸå®DOMæ ‘

é‡ç‚¹å•Šâ—ï¸â—ï¸â—ï¸


â”œâ”€â”€ build --------------------------------- æ„å»ºç›¸å…³çš„æ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸éœ€è¦åŠ¨
â”œâ”€â”€ dist ---------------------------------- æ„å»ºåæ–‡ä»¶çš„è¾“å‡ºç›®å½•
â”œâ”€â”€ examples ------------------------------ å­˜æ”¾ä¸€äº›ä½¿ç”¨Vueå¼€å‘çš„åº”ç”¨æ¡ˆä¾‹
â”œâ”€â”€ flow ---------------------------------- ç±»å‹å£°æ˜ï¼Œä½¿ç”¨å¼€æºé¡¹ç›® [Flow](https://flowtype.org/)
â”œâ”€â”€ package.json -------------------------- ä¸è§£é‡Š
â”œâ”€â”€ test ---------------------------------- åŒ…å«æ‰€æœ‰æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ src ----------------------------------- è¿™ä¸ªæ˜¯æˆ‘ä»¬æœ€åº”è¯¥å…³æ³¨çš„ç›®å½•ï¼ŒåŒ…å«äº†æºç 
â”‚   â”œâ”€â”€ entries --------------------------- åŒ…å«äº†ä¸åŒçš„æ„å»ºæˆ–åŒ…çš„å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ web-runtime.js ---------------- è¿è¡Œæ—¶æ„å»ºçš„å…¥å£ï¼Œè¾“å‡º dist/vue.common.js æ–‡ä»¶ï¼Œä¸åŒ…å«æ¨¡æ¿(template)åˆ°renderå‡½æ•°çš„ç¼–è¯‘å™¨ï¼Œæ‰€ä»¥ä¸æ”¯æŒ `template` é€‰é¡¹ï¼Œæˆ‘ä»¬ä½¿ç”¨vueé»˜è®¤å¯¼å‡ºçš„å°±æ˜¯è¿™ä¸ªè¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚å¤§å®¶ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„
â”‚   â”‚   â”œâ”€â”€ web-runtime-with-compiler.js -- ç‹¬ç«‹æ„å»ºç‰ˆæœ¬çš„å…¥å£ï¼Œè¾“å‡º dist/vue.jsï¼Œå®ƒåŒ…å«æ¨¡æ¿(template)åˆ°renderå‡½æ•°çš„ç¼–è¯‘å™¨
â”‚   â”‚   â”œâ”€â”€ web-compiler.js --------------- vue-template-compiler åŒ…çš„å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ web-server-renderer.js -------- vue-server-renderer åŒ…çš„å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ compiler -------------------------- ç¼–è¯‘å™¨ä»£ç çš„å­˜æ”¾ç›®å½•ï¼Œå°† template ç¼–è¯‘ä¸º render å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ parser ------------------------ å­˜æ”¾å°†æ¨¡æ¿å­—ç¬¦ä¸²è½¬æ¢æˆå…ƒç´ æŠ½è±¡è¯­æ³•æ ‘çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ codegen ----------------------- å­˜æ”¾ä»æŠ½è±¡è¯­æ³•æ ‘(AST)ç”Ÿæˆrenderå‡½æ•°çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ optimizer.js ------------------ åˆ†æé™æ€æ ‘ï¼Œä¼˜åŒ–vdomæ¸²æŸ“
â”‚   â”œâ”€â”€ core ------------------------------ å­˜æ”¾é€šç”¨çš„ï¼Œå¹³å°æ— å…³çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ observer ---------------------- ååº”ç³»ç»Ÿï¼ŒåŒ…å«æ•°æ®è§‚æµ‹çš„æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ vdom -------------------------- åŒ…å«è™šæ‹ŸDOMåˆ›å»º(creation)å’Œæ‰“è¡¥ä¸(patching)çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ instance ---------------------- åŒ…å«Vueæ„é€ å‡½æ•°è®¾è®¡ç›¸å…³çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ global-api -------------------- åŒ…å«ç»™Vueæ„é€ å‡½æ•°æŒ‚è½½å…¨å±€æ–¹æ³•(é™æ€æ–¹æ³•)æˆ–å±æ€§çš„ä»£ç 
â”‚   â”‚   â”œâ”€â”€ components -------------------- åŒ…å«æŠ½è±¡å‡ºæ¥çš„é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ server ---------------------------- åŒ…å«æœåŠ¡ç«¯æ¸²æŸ“(server-side rendering)çš„ç›¸å…³ä»£ç 
â”‚   â”œâ”€â”€ platforms ------------------------- åŒ…å«å¹³å°ç‰¹æœ‰çš„ç›¸å…³ä»£ç 
â”‚   â”œâ”€â”€ sfc ------------------------------- åŒ…å«å•æ–‡ä»¶ç»„ä»¶(.vueæ–‡ä»¶)çš„è§£æé€»è¾‘ï¼Œç”¨äºvue-template-compileråŒ…
â”‚   â”œâ”€â”€ shared ---------------------------- åŒ…å«æ•´ä¸ªä»£ç åº“é€šç”¨çš„ä»£ç 




// initMixin(Vue)    src/core/instance/init.js **************************************************
Vue.prototype._init = function (options?: Object) {}

// stateMixin(Vue)    src/core/instance/state.js **************************************************
Vue.prototype.$data
Vue.prototype.$set = set
Vue.prototype.$delete = del
Vue.prototype.$watch = function(){}

// renderMixin(Vue)    src/core/instance/render.js **************************************************
Vue.prototype.$nextTick = function (fn: Function) {}
Vue.prototype._render = function (): VNode {}
Vue.prototype._s = _toString
Vue.prototype._v = createTextVNode
Vue.prototype._n = toNumber
Vue.prototype._e = createEmptyVNode
Vue.prototype._q = looseEqual
Vue.prototype._i = looseIndexOf
Vue.prototype._m = function(){}
Vue.prototype._o = function(){}
Vue.prototype._f = function resolveFilter (id) {}
Vue.prototype._l = function(){}
Vue.prototype._t = function(){}
Vue.prototype._b = function(){}
Vue.prototype._k = function(){}

// eventsMixin(Vue)    src/core/instance/events.js **************************************************
Vue.prototype.$on = function (event: string, fn: Function): Component {}
Vue.prototype.$once = function (event: string, fn: Function): Component {}
Vue.prototype.$off = function (event?: string, fn?: Function): Component {}
Vue.prototype.$emit = function (event: string): Component {}

// lifecycleMixin(Vue)    src/core/instance/lifecycle.js **************************************************
Vue.prototype._mount = function(){}
Vue.prototype._update = function (vnode: VNode, hydrating?: boolean) {}
Vue.prototype._updateFromParent = function(){}
Vue.prototype.$forceUpdate = function () {}
Vue.prototype.$destroy = function () {}



ä¸ºä»€ä¹ˆreview vueæºç   å°±è·Ÿæˆ‘ä¹‹å‰review underscoreçš„ç›®æ ‡ä¸€æ ·  review underscoreçš„ç›®æ ‡æ˜¯ä¸ºäº†äº†è§£å‡½æ•°å¼ç¼–ç¨‹çš„å®ç°


é‚£ä¹ˆreview vueçš„ç›®æ ‡å°±æ˜¯ä¸ºäº†äº†è§£mvvmæ¡†æ¶çš„å®ç°


ç„¶åï¼Œè°ƒç”¨äº†å››ä¸ª init* æ–¹æ³•åˆ†åˆ«ä¸ºï¼šinitLifecycleã€initEventsã€initStateã€initRenderï¼Œä¸”åœ¨ initState å‰ååˆ†åˆ«å›è°ƒäº†ç”Ÿå‘½å‘¨æœŸé’©å­ beforeCreate å’Œ createdï¼Œè€Œ initRender æ˜¯åœ¨ created é’©å­æ‰§è¡Œä¹‹åæ‰§è¡Œçš„ï¼Œçœ‹åˆ°è¿™é‡Œï¼Œä¹Ÿå°±æ˜ç™½äº†ä¸ºä»€ä¹ˆ created çš„æ—¶å€™ä¸èƒ½æ“ä½œDOMäº†ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“çœŸæ­£çš„DOMå…ƒç´ åˆ°æ–‡æ¡£ä¸­ã€‚created ä»…ä»…ä»£è¡¨æ•°æ®çŠ¶æ€çš„åˆå§‹åŒ–å®Œæˆ


 Object.defineProperty(target, key, sharedPropertyDefinition)

 ä¸ºä»€ä¹ˆdataé‡Œé¢çš„æ•°æ®,å¯ä»¥ç”¨this.messageè¡¨ç¤º

   function proxy(target, sourceKey, key) {
    sharedPropertyDefinition.get = function proxyGetter() {
      return this[sourceKey][key]
    };
    sharedPropertyDefinition.set = function proxySetter(val) {
      this[sourceKey][key] = val;
    };
    Object.defineProperty(target, key, sharedPropertyDefinition);
  }

 å› ä¸ºè¿™æ ·vueæºç æ˜¯è¿™æ ·å¤„ç†çš„

  Object.defineProperty(target, key, sharedPropertyDefinition)
  
  Object.defineProperty() æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚
  
  vueåœ¨è¿™ä¸€æ­¥åšäº†proxy handleå¤„ç†


  ### ç»™æˆ‘è‡ªå·±å†™ä¸ªmvvmæ¡†æ¶æ€ä¹ˆå†™ï¼Ÿ
  
